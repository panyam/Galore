"use strict";(this.webpackChunkgalore=this.webpackChunkgalore||[]).push([[72],{875(t,e,s){s.d(e,{R4:()=>i,UB:()=>o});var r=s(6542);class n{constructor(t,e,s,...r){this.id=t,this.sym=e,this.value=s,this.children=[],this.children=r||[]}get childCount(){return this.children.length}childAt(t){return t<0?this.children[this.children.length+t]:this.children[t]}get isTerminal(){return this.sym.isTerminal}add(t,e=-1){if(this.isTerminal)throw new Error(`Cannot add children (${t.sym.label}) to a terminal node: ${this.sym.label}`);return e<0?this.children.push(t):this.children.splice(e,0,t),this}splice(t,e,...s){return this.children.splice(t,e,...s),this}get reprString(){return this.debugValue(!1).join("\n")}debugValue(t=!0){if(t){const e=[this.sym.label];return this.value&&e.push(this.value),this.children.length>0&&e.push(this.children.map(e=>e.debugValue(t))),e}{const e=[];return this.value,e.push(null==this.value?this.sym.label:this.sym.label+" - "+this.value),this.children.forEach(s=>s.debugValue(t).forEach(t=>e.push("  "+t))),e}}}class i extends n{constructor(){super(...arguments),this.parent=null}add(t,e=-1){return super.add(t,e),t.parent=this,this}splice(t,e,...s){for(const t of s)t.parent=this;return super.splice(t,e,...s)}}class l{setTokenizer(t){return this.tokenbuffer=new r.UH(t,null),this}getSym(t){const e=this.grammar.getSym(t.tag);if(null==e)throw new Error("Invalid token tag: "+t.tag+", Value: "+t.value);return e}}class o extends l{parse(t,e=null){return"string"==typeof t&&(t=new r.nZ(t)),this.parseInput(t,e)}}},1382(t,e,s){s(6148),s(1787),s(5057)},1787(t,e,s){s.d(e,{Dj:()=>a,IS:()=>u,Mx:()=>o,gr:()=>l,jO:()=>h});var r=s(6148),n=s(5226),i=s(5057);class l{constructor(t,e,s,r=null){this.grammar=t,this.label=e,this.isTerminal=s,this.isAuxiliary=!1,this.auxType=null,this.precedence=1,this.assocLeft=!0,this.creationId=-1,this.isTerminal=s,this.label=e,this.id=null==r?l.idCounter--:r}compareTo(t){return this.label.localeCompare(t.label)}equals(t){return this.label==t.label}toString(){return this.label}}l.idCounter=-1;class o{constructor(...t){this.syms=t||[]}append(...t){for(const e of t)this.syms.push(e);return this}extend(...t){for(const e of t)this.append(...e.syms);return this}copy(){return new o(...this.syms)}add(t){this.syms.push(t)}isTerminal(t){return this.syms[t].isTerminal}get length(){return this.syms.length}toString(){return this.syms.map(t=>t.toString()).join(" ")}slice(t,e){return new o(...this.syms.slice(t,e))}splice(t,e,...s){return this.syms.splice(t,e,...s),this}compareTo(t){for(let e=0;e<this.syms.length&&e<t.syms.length;e++){const s=this.syms[e].compareTo(t.syms[e]);if(0!=s)return s}return this.syms.length-t.syms.length}equals(t){return 0==this.compareTo(t)}containsAt(t,e){let s=0;for(;s<e.length&&t+s<this.syms.length;s++)if(!this.syms[t+s].equals(e.syms[s]))return!1;return s==e.length}get debugString(){return this.syms.map(t=>t.label).join(" ")}}class a{constructor(t){this.value=t}get isFunction(){return"string"==typeof this.value}get isChildPosition(){return"number"==typeof this.value}}class h{constructor(t,e,s=null){if(this.nt=t,this.rhs=e,this.action=s,t.isTerminal)throw new Error("Cannot add rules to a terminal")}get debugString(){return`${this.nt.label} -> ${this.rhs.debugString}`}equals(t){return 0==this.compareTo(t)}compareTo(t){r.vA(!isNaN(this.id));const e=this.nt.compareTo(t.nt);return 0==e&&this.rhs.compareTo(t.rhs),e}}class u{static make(t){const e=new u;return t(e),e}constructor(t){this.startSymbol=null,this.modified=!0,this.symbolSet=new i.GG(t=>t.label),this.allRules=[],this._rulesForNT=null,this._followSets=null,this._hasNull=!1,this.auxNTCount=0,t=t||{},this.auxNTPrefix=t.auxNTPrefix||"$",this.Null=this.newTerm(""),this.Eof=this.newTerm("$end")}rulesForNT(t){if(r.vA(!t.isTerminal),null==this._rulesForNT){this._rulesForNT={};for(const t of this.allRules)t.nt.label in this._rulesForNT||(this._rulesForNT[t.nt.label]=[]),this._rulesForNT[t.nt.label].push(t)}return t.label in this._rulesForNT||(this._rulesForNT[t.label]=[]),this._rulesForNT[t.label]}get nullables(){return this.firstSets.nullables}get firstSets(){return this.followSets.firstSets}get followSets(){return(this.modified||null==this._followSets)&&this.refresh(),r.vA(null!=this._followSets),this._followSets}get augStartRule(){return this._AugStartRule}augmentStartSymbol(t="$accept"){r.vA(null==this._AugStartRule,"Ensure this grammar has not yet been augmented."),r.vA(null!=this.startSymbol,"Start symbol not yet set");const e=this.newNT(t);return this._AugStartRule=new h(e,new o(this.startSymbol)),this.addRule(this._AugStartRule,0),this}refresh(){return this.symbolSet.entries.forEach((t,e)=>t.id=e),this._rulesForNT=null,this.allRules.forEach((t,e)=>{t.id=e}),this._followSets=new i.de(this),this.modified=!1,this}addTerminals(...t){for(const e of t)this.newTerm(e)}get terminals(){return this.symbolSet.entries.filter(t=>t.isTerminal)}get allNonTerminals(){return this.symbolSet.entries.filter(t=>!t.isTerminal)}get nonTerminals(){return this.symbolSet.entries.filter(t=>!t.isTerminal&&!t.isAuxiliary)}get auxNonTerminals(){return this.symbolSet.entries.filter(t=>t.isAuxiliary)}get allSymbols(){return this.symbolSet.entries}forEachNT(t){for(const e of this.symbolSet.entries)if(!e.isTerminal&&0==t(e))return}forEachRule(t,e){const s=null==t?this.allRules:this.rulesForNT(t)||[];for(let t=0;t<s.length;t++)if(0==e(s[t],t))return!1;return!0}getRule(t,e){return"string"==typeof t&&(t=this.getSym(t)),r.vA(null!=t),this.rulesForNT(t)[e]}findRule(t,e){return this.rulesForNT(t).findIndex(s=>s.nt==t&&s.rhs.equals(e))}add(t,e,s=null){let r=null;return"string"==typeof t?(r=this.getSym(t),null==r&&(r=this.newNT(t))):r=this.ensureSym(t),this.addRule(new h(r,e,s))}addRule(t,e=-1){if(this.findRule(t.nt,t.rhs)>=0)throw new Error("Duplicate rule: "+t.debugString);return t.id=this.allRules.length,0==t.rhs.length&&(this._hasNull=!0),e<0?this.allRules.push(t):this.allRules.splice(e,0,t),this._rulesForNT=null,this.modified=!0,t}removeRules(t){return this.allRules=this.allRules.filter(e=>!t(e)),this._rulesForNT=null,this.modified=!0,!0}removeSymbols(t){let e=!1;const s=[];return this.allRules.forEach(r=>{if(!t(r.nt))if(0==r.rhs.length)s.push(r);else{const n=new o(...r.rhs.syms.filter(e=>!t(e)));e=e||r.rhs.length!=n.length,n.length>0&&s.push(new h(r.nt,n))}}),this.allRules=s,e=this.symbolSet.remove(t)||e,this.modified=this.modified||e,e}getSymById(t){return this.symbolSet.get(t)}getSym(t){return this.symbolSet.getByKey(t)}ensureSym(t,e=!1){const s=this.symbolSet.ensure(t,e);return t==s?s.creationId<0&&(s.creationId=this.symbolSet.size):r.vA(!e,"Should have already thrown error"),s}T(t,e=!1){let s=this.getSym(t);if(null!=s){if(e)throw new Error(`Terminal ${t} is already exists`);if(!s.isTerminal)throw new Error(`Symbol (${t}) already exists as a non-terminal`)}else s=new l(this,t,!0),s=this.ensureSym(s,!0);return s}NT(t,e=!1,s=!1){let r=this.getSym(t);if(null!=r){if(s)throw new Error(`Non-terminal ${t} is already exists`);if(r.isTerminal)throw new Error(`Symbol (${t}) already exists as a terminal`)}else r=new l(this,t,!1),r.isAuxiliary=e,r=this.ensureSym(r,!0),e||null!=this.startSymbol||(this.startSymbol=r);return r}newTerm(t){return this.T(t,!0)}newNT(t,e=!1){return this.NT(t,e,!0)}isTerminal(t){const e=this.getSym(t);return null!=e&&e.isTerminal}isNT(t){const e=this.getSym(t);return null!=e&&!e.isTerminal&&!e.isAuxiliary}isAuxNT(t){const e=this.getSym(t);return null!=e&&!e.isTerminal&&e.isAuxiliary}seq(...t){if(1==t.length)return this.normalizeRule(t[0]);{const e=new o;for(const s of t){const t=this.normalizeRule(s);for(let s=0;s<t.length;s++)e.add(t.syms[s])}return e}}anyof(...t){return 1==t.length?this.normalizeRule(t[0]):new o(this.ensureAuxNT(...t.map(t=>this.normalizeRule(t))))}opt(t){const e=this.anyof(t,new o),s=e.syms[0];return r.vA(1==e.syms.length&&s.isAuxiliary,"NT must be an auxiliary symbol"),s.auxType="opt",e}atleast0(t,e=!0){const s=this.normalizeRule(t);let r=this.findAuxNT(e=>{const r=this.rulesForNT(e);if(2!=r.length)return!1;let n=0;if(0==r[0].rhs.length)n=1;else{if(0!=r[1].rhs.length)return!1;n=0}const i=r[n].rhs;return i.length==1+t.length&&(i.syms[0].equals(e)?i.containsAt(1,s):!!i.syms[i.length-1].equals(e)&&i.containsAt(0,s))});return null==r&&(r=this.newAuxNT(),r.auxType=e?"atleast0:left":"atleast0",this.add(r,new o),e?this.add(r,new o(r).extend(s)):this.add(r,s.copy().append(r))),new o(r)}atleast1(t,e=!0){const s=this.normalizeRule(t);let r=this.findAuxNT(e=>{const r=this.rulesForNT(e);if(2!=r.length)return!1;let n=0;if(r[0].rhs.equals(s))n=1;else{if(!r[1].rhs.equals(s))return!1;n=0}const i=r[n].rhs;return i.length==1+t.length&&(i.syms[0].equals(e)?i.containsAt(1,s):!!i.syms[i.length-1].equals(e)&&i.containsAt(0,s))});return null==r&&(r=this.newAuxNT(),r.auxType=e?"atleast1:left":"atleast1",this.add(r,s),e?this.add(r,new o(r).extend(s)):this.add(r,s.copy().append(r))),new o(r)}normalizeRule(t){if("string"==typeof t){const e=this.getSym(t);if(null==e)throw new Error(`Invalid symbol: '${t}'`);return new o(e)}return t}newAuxNTName(){return this.auxNTPrefix+this.auxNTCount++}newAuxNT(t=""){return""==t&&(t=this.newAuxNTName()),this.newNT(t,!0)}ensureAuxNT(...t){let e=this.findAuxNTByRules(...t);if(null==e){e=this.newAuxNT(),e.auxType="anyof";for(const s of t)this.add(e,s)}return e}findAuxNT(t){for(const e of this.symbolSet.entries)if(e.isAuxiliary&&t(e))return e;return null}findAuxNTByRules(...t){return this.findAuxNT(e=>{const s=this.rulesForNT(e);if(s.length!=t.length)return!1;for(let e=0;e<s.length;e++)if(!s[e].rhs.equals(t[e]))return!1;return!0})}print(t=null){const e=(t=t||{}).ruleSep||"->",s=t.includeSemiColon||!1,r=t.lambdaSymbol||"",n=[];return this.forEachRule(null,(t,i)=>{let l=`${t.nt.label} ${e} `;t.rhs.length>0?l+=t.rhs.debugString:l+=r,s&&(l+=" ;"),n.push(l)}),n}get debugValue(){const t=[];return this.forEachRule(null,(e,s)=>{t.push(`${e.nt.label} -> ${e.rhs.debugString}`)}),t}get terminalDerivingSymbols(){const t=new i.dd(this,null);let e=-1,s=!0;for(;0!=e;){e=0;for(const r of this.allRules){s=!0;for(const n of r.rhs.syms)t.has(n)||(n.isTerminal?(t.add(n),e++):s=!1);s&&!t.has(r.nt)&&(t.add(r.nt),e++)}}return t}reachableSymbols(t=null){null==t&&(t=this._AugStartRule?this._AugStartRule.nt:this.startSymbol),r.vA(null!=t,"Start symbol does not exist");const e=new i.dd(this,!1).add(t);let s=[t];for(;s.length>0;){const t=[];for(const r of s)for(const s of this.rulesForNT(r))for(const r of s.rhs.syms)r.isTerminal||e.has(r)||(t.push(r),e.add(r));s=t}return e}get cycles(){return(0,n.allMinimalCycles)(this.allNonTerminals,t=>t.label,t=>{const e=[];return this.forEachRule(t,(s,r)=>{s.rhs.syms.forEach((n,i)=>{n.isTerminal||this.nullables.isStrNullable(s.rhs,0,i-1)&&this.nullables.isStrNullable(s.rhs,i+1)&&e.push([n,[t,r]])})}),e})}get leftRecursion(){return(0,n.allMinimalCycles)(this.allNonTerminals,t=>t.id,t=>{const e=[];return this.forEachRule(t,(t,s)=>{t.rhs.syms.forEach((t,r)=>{if(!t.isTerminal)return e.push([t,s]),this.nullables.isNullable(t)})}),e})}}},2056(t,e,s){s(6148),s(1787),s(875).UB},2597(t,e,s){s.d(e,{load:()=>h});var r=s(6148),n=s(6542),i=s(1787);const l=t=>"number"==typeof t?""+t:t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var o,a;function h(t,e){e=e||{};const s=new i.IS(e.grammar||{}),r=new u(t,{...e,grammar:s}),n=r.generatedTokenizer.next.bind(r.generatedTokenizer);return(e.debug||"").split("|").findIndex(t=>"all"==t||"lexer"==t)>=0&&console.log("Prog: \n",`${r.generatedTokenizer.vm.prog.debugValue().join("\n")}`),[s,n]}!function(t){t.STRING="STRING",t.REGEX="REGEX",t.NUMBER="NUMBER",t.SPACES="SPACES",t.IDENT="IDENT",t.PCT_IDENT="PCT_IDENT",t.STAR="STAR",t.PLUS="PLUS",t.QMARK="QMARK",t.PIPE="PIPE",t.DOLLAR_NUM="DOLLAR_NUM",t.DOLLAR_IDENT="DOLLAR_IDENT",t.OPEN_PAREN="OPEN_PAREN",t.CLOSE_PAREN="CLOSE_PAREN",t.OPEN_BRACE="OPEN_BRACE",t.CLOSE_BRACE="CLOSE_BRACE",t.OPEN_SQ="OPEN_SQ",t.CLOSE_SQ="CLOSE_SQ",t.COMMENT="COMMENT",t.ARROW="ARROW",t.COLCOLHYPHEN="COLCOLHYPHEN",t.COLON="COLON",t.SEMI_COLON="SEMI_COLON"}(o||(o={})),function(t){t.GRAMMAR="GRAMMAR",t.DECL="DECL",t.RULE="RULE",t.PROD_NULL="PROD_NULL",t.PROD_STR="PROD_STR",t.PROD_UNION="PROD_UNION",t.PROD_NAME="PROD_NAME",t.PROD_STRING="PROD_STRING",t.PROD_NUM="PROD_NUM",t.PROD_IDENT="PROD_IDENT",t.PROD_STAR="PROD_STAR",t.PROD_PLUS="PROD_PLUS",t.PROD_OPTIONAL="PROD_OPTIONAL",t.IDENT="IDENT",t.ERROR="ERROR",t.COMMENT="COMMENT"}(a||(a={}));class u{constructor(t,e){this.leftRecursive=!1,this.generatedTokenizer=new n._F,this.regexSyntax="js",e=e||{},this.symbolsByLabel={},this.grammar=e.grammar||new i.IS,this.leftRecursive=!("leftRecursive"in e)||e.leftRecursive||!1,this.newSymbolCallback=e.newSymbolCallback||null,this.tokenHandlers=e.tokenHandlers||{},this.parse(t)}symbolForLabel(t){return this.symbolsByLabel[t]||null}registerSymbol(t,e){r.vA(!(t in this.symbolsByLabel),`${t} is already registered`),this.symbolsByLabel[t]=e}ensureSymbol(t,e){let s=this.symbolForLabel(t);return null!=s||(this.newSymbolCallback&&(s=this.newSymbolCallback(t,e)||null),null==s&&(s=e?this.grammar.newTerm(t):this.grammar.newNT(t)),this.registerSymbol(t,s)),s}parse(t){const e=function(){const t=new n._F;return t.add(/->/,{tag:o.ARROW}),t.add(/\[/,{tag:o.OPEN_SQ}),t.add(/\]/,{tag:o.CLOSE_SQ}),t.add(/\(/,{tag:o.OPEN_PAREN}),t.add(/\)/,{tag:o.CLOSE_PAREN}),t.add(/\{/,{tag:o.OPEN_BRACE}),t.add(/\}/,{tag:o.CLOSE_BRACE}),t.add(/\*/,{tag:o.STAR}),t.add(/\+/,{tag:o.PLUS}),t.add(/\?/,{tag:o.QMARK}),t.add(/;/,{tag:o.SEMI_COLON}),t.add(/:/,{tag:o.COLON}),t.add(/\|/,{tag:o.PIPE}),t.add(/\s+/m,{tag:o.SPACES},()=>null),t.add(/\/\*.*?\*\//s,{tag:o.COMMENT},()=>null),t.add(/\/\/.*$/m,{tag:o.COMMENT},()=>null),t.add(n.CC.Lf,{tag:o.STRING},(t,e,s)=>(s.value=e.substring(s.start+1,s.end-1),s)),t.add(n.CC.cO,{tag:o.STRING},(t,e,s)=>(s.value=e.substring(s.start+1,s.end-1),s)),t.add(n.CC.yt,{tag:o.REGEX},(t,e,s)=>{const r=e.substring(s.positions[1][0],s.positions[1][1]),n=e.substring(s.positions[3][0],s.positions[3][1]);return s.value=[r,n],s}),t.add(/\d+/,{tag:o.NUMBER},(t,e,s)=>(s.value=parseInt(e.substring(s.start,s.end)),s)),t.add(/%([\w][\w\d_]*)/,{tag:o.PCT_IDENT},(t,e,s)=>(s.value=e.substring(s.start+1,s.end),s)),t.add(/\$\d+/,{tag:o.DOLLAR_NUM},(t,e,s)=>(s.value=parseInt(e.substring(s.start+1,s.end)),s)),t.add(/\$([\w][\w\d_]*)/,{tag:o.DOLLAR_IDENT},(t,e,s)=>(s.value=e.substring(s.start+1,s.end),s)),t.add(/[\w][\w\d_]*/,{tag:o.IDENT}),t}();this.tokenizer=new n.UH((t,s)=>e.next(t,this),this),this.parseGrammar(new n.nZ(t))}parseRegex(t,e,s=0,r=""){if(""==r&&(r=this.regexSyntax),"js"==r){const r=this.tokenizer.expectToken(t,o.STRING,o.NUMBER,o.REGEX);let i;if(e&&0!=e.length||(e="/"+r.value[0]+"/"+r.value[1]),r.tag==o.STRING||r.tag==o.NUMBER){const t=l(r.value);i=n.M$.build(t,{tag:e,priority:s+20})}else{if(r.tag!=o.REGEX)throw new n.zy(r);{let t=r.value[0];r.value[1].length>0&&(t=new RegExp(r.value[0],r.value[1])),i=n.M$.build(t,{tag:e,priority:s+10})}}return i}{let r="";for(;t.hasMore&&"\n"!=t.currCh;)r+=t.currCh,t.advance();return r=r.trim(),e&&0!=e.length||(e="/"+r+"/"),new n.jO(n.M$.exprFromFlexRE(r),{tag:e,priority:s})}}parseGrammar(t){let e=this.tokenizer.peek(t);for(;null!=e;){if(e.tag==o.IDENT)this.parseDecl(t);else{if(e.tag!=o.PCT_IDENT)throw new SyntaxError(`Declaration must start with IDENT or PCT_IDENT.  Found: '${e.value}' instead.`);this.tokenizer.next(t),this.parseDirective(t,e.value)}e=this.tokenizer.peek(t)}}parseDirective(t,e){if("start"==e){const e=this.tokenizer.expectToken(t,o.IDENT);this.grammar.startSymbol=this.ensureSymbol(e.value,!1)}else if("resyntax"==e){const e=this.tokenizer.expectToken(t,o.IDENT);if("js"!=e.value&&"flex"!=e.value)throw new SyntaxError("Invalid regex syntax: "+e.value);this.regexSyntax=e.value}else if(e.startsWith("skip")){const s=this.parseRegex(t,"",30,e.endsWith("flex")?"flex":""),r=this.parseTokenHandler(t);r?this.generatedTokenizer.addRule(s,(t,e,s)=>(r(t,e,s,this),null)):this.generatedTokenizer.addRule(s,()=>null)}else{if(!e.startsWith("token")&&!e.startsWith("define"))throw new Error("Invalid directive: "+e);{const s=e.startsWith("define"),r=this.tokenizer.expectToken(t,o.IDENT,o.STRING);let n=r.value;r.tag!=o.STRING&&r.tag!=o.NUMBER||(n=`"${r.value}"`);const i=this.parseRegex(t,n,0,e.endsWith("flex")?"flex":"");if(s)this.generatedTokenizer.addVar(n,i.expr);else{const e=this.parseTokenHandler(t);this.generatedTokenizer.addRule(i,e),this.ensureSymbol(n,!0)}}}}parseTokenHandler(t){if(!this.tokenizer.consumeIf(t,o.OPEN_BRACE))return null;const e=this.tokenizer.expectToken(t,o.IDENT);return this.tokenizer.expectToken(t,o.CLOSE_BRACE),(t,s,r,n)=>{const i=this.tokenHandlers[e.value];if(!i)throw new Error("Handler method not found: "+e.value);return i(r,s,n)}}parseDecl(t){const e=this.tokenizer.expectToken(t,o.IDENT);if(this.tokenizer.consumeIf(t,o.ARROW,o.COLON)){const s=this.ensureSymbol(e.value,!1);if(s.isTerminal)s.isTerminal=!1;else if(s.isAuxiliary)throw new Error("NT is already auxiliary and cannot be reused.");for(const[e,r]of this.parseProductions(t,this.grammar,s))this.grammar.add(s,e,r);this.tokenizer.expectToken(t,o.SEMI_COLON)}}parseProductions(t,e,s){const r=[];for(;null!=this.tokenizer.peek(t);){const s=this.parseProd(t,e);if(r.push(s),!this.tokenizer.consumeIf(t,o.PIPE)&&this.tokenizer.nextMatches(t,o.CLOSE_SQ,o.CLOSE_PAREN,o.SEMI_COLON))break}return r}parseProd(t,e){const s=new i.Mx;for(;!this.tokenizer.nextMatches(t,o.CLOSE_PAREN,o.CLOSE_SQ,o.SEMI_COLON,o.PIPE,o.OPEN_BRACE);){let r=null;if(this.tokenizer.consumeIf(t,o.OPEN_PAREN)){const s=this.parseProductions(t,e,null);0==s.length||(r=1==s.length?s[0][0]:e.anyof(...s.map(t=>t[0]))),this.tokenizer.expectToken(t,o.CLOSE_PAREN)}else if(this.tokenizer.consumeIf(t,o.OPEN_SQ)){const s=this.parseProductions(t,e,null);0==s.length||(r=1==s.length?e.opt(s[0][0]):e.opt(e.anyof(...s.map(t=>t[0])))),this.tokenizer.expectToken(t,o.CLOSE_SQ)}else{if(!this.tokenizer.nextMatches(t,o.IDENT,o.STRING,o.NUMBER,o.REGEX))throw new n.zy(this.tokenizer.peek(t));{const e=this.tokenizer.next(t);let s=e.value;if(e.tag==o.STRING||e.tag==o.NUMBER){s=`"${e.value}"`;const t=l(e.value),r=n.M$.build(t,{tag:s,priority:20});this.generatedTokenizer.addRule(r)}else if(e.tag==o.REGEX){s="/"+e.value[0]+"/"+e.value[1];let t=e.value[0];e.value[1].length>0&&(t=new RegExp(e.value[0],e.value[1]));const r=n.M$.build(t,{tag:s,priority:10});this.generatedTokenizer.addRule(r)}const a=this.ensureSymbol(s,!0);r=new i.Mx(a)}}if(null==r)throw new Error("Could not determine node");this.tokenizer.consumeIf(t,o.STAR)?r=e.atleast0(r,this.leftRecursive):this.tokenizer.consumeIf(t,o.PLUS)?r=e.atleast1(r,this.leftRecursive):this.tokenizer.consumeIf(t,o.QMARK)&&(r=e.opt(r)),s.extend(r)}let r=null;if(this.tokenizer.consumeIf(t,o.OPEN_BRACE)){const e=this.tokenizer.expectToken(t,o.DOLLAR_NUM,o.IDENT);r=new i.Dj(e.value),this.tokenizer.expectToken(t,o.CLOSE_BRACE)}return[s,r]}}},2719(t,e,s){s.d(e,{_L:()=>o});var r=s(6148),n=s(1787),i=s(5046),l=s(7276);function o(t,e="lr1"){switch(e){case"lr1":return function(t){const e=new l.Jh(t).refresh();return[u(e,t),e]}(t);case"lalr":return function(t){const[e,s]=a(t);if(!e.hasConflicts)return[e,s];const i=function(t,e){const s=new n.IS;function i(t,r){const i=`[${t}:${r.label}]`,l=s.ensureSym(new n.gr(s,i,r.isTerminal),!1);return 0!=t||e.startSymbol!=r||e.startSymbol==l||r.isTerminal||(s.startSymbol=l),l}for(const s in t.gotoSets){const r=t.gotoSets[s];for(const t in r)i(s,e.getSymById(t))}function l(e,s,l){let o=e;const a=l.rhs.syms.map((e,s)=>{const n=i(o,e),l=t.gotoSets[o][e.id]||null;return r.vA(null!=l,"Next set transition *must* be valid"),o=l.id,n});return new n.Mx(...a)}for(const r in t.gotoSets){const o=t.gotoSets[r];for(const t in o){const o=e.getSymById(t),a=r;if(!o.isTerminal){const t=i(a,o);e.forEachRule(o,(e,r)=>{const i=l(a,0,e),o=new n.jO(t,i);s.addRule(o)})}}}return s}(s,t),l={};for(const t in s.gotoSets)for(const e in s.gotoSets[t]){const r=s.gotoSets[t][e];r.id in l||(l[r.id]={}),e in l[r.id]||(l[r.id][e]=new Set),l[r.id][e].add(t)}for(const r in e.conflictActions){const e=s.itemSets.get(r);c(t,i,s,e,l)}return[u(s,t),s]}(t)}return a(t)}function a(t){const e=function(t){const e=new l.WP(t).refresh();for(const s of e.itemSets.entries)h(t,e,s);return e}(t);return[u(e,t),e]}function h(t,e,s){for(const n of s.values){const i=e.items.get(n),l=i.rule;i.position>=l.rhs.length&&t.followSets.forEachTerm(l.nt,t=>{null!=t&&(r.vA(t.isTerminal),s.addLookAhead(i,t))})}}function u(t,e){const s=new i.iS(e);for(const r of t.itemSets.entries){for(const n of r.values){const l=t.items.get(n),o=l.rule;if(l.position<o.rhs.length){const e=o.rhs.syms[l.position];if(e.isTerminal){const n=t.getGoto(r,e);n&&s.addAction(r.id,e,i.PZ.Shift(n.id))}}else if(!o.nt.equals(e.augStartRule.nt)){const t=r.getLookAheads(l);for(const e of t)s.addAction(r.id,e,i.PZ.Reduce(o))}}t.forEachGoto(r,(t,e)=>{null==t||t.isTerminal||s.addAction(r.id,t,i.PZ.Goto(e.id))});const n=t.items.ensure(new l.O6(e.augStartRule,1));r.addLookAhead(n,e.Eof),r.has(n.id)&&s.addAction(r.id,e.Eof,i.PZ.Accept())}return s}function c(t,e,s,n,i){function l(t,e,n,o){if(e<0){const e=s.gotoSets[n];r.vA(null!=(e[t.nt.id]||null),"Transition on rule.nt missing from start state"),o.add(n)}else{const s=t.rhs.syms[e],a=i[n][s.id]||null;r.vA(null!=a,"Prev set should not be null"),a.forEach(s=>l(t,e-1,s,o))}}n.clearLookAheads();for(const i of n.values){const o=s.items.get(i),a=o.rule;if(o.position>=a.rhs.length){const s=new Set;l(a,a.rhs.length-1,n.id,s),s.forEach(s=>{const i=`[${s}:${a.nt.label}]`,l=e.getSym(i);r.vA(null!=l,"Augmented grammar symbol [p:A] not found"),e.followSets.forEachTerm(l,s=>{if(null!=s&&s!=e.Eof){r.vA(s.isTerminal);const e=s.label.substring(s.label.indexOf(":")+1,s.label.length-1).trim(),i=t.getSym(e);r.vA(null!=i,`T (${e}) in [r:T] cannot be null`),n.addLookAhead(o,i)}})})}}}},5046(t,e,s){s.d(e,{PZ:()=>o,iS:()=>a,iX:()=>u});var r,n=s(6148),i=s(875),l=s(9383);!function(t){t[t.ACCEPT=0]="ACCEPT",t[t.SHIFT=1]="SHIFT",t[t.REDUCE=2]="REDUCE",t[t.GOTO=3]="GOTO"}(r||(r={}));class o{constructor(){this.gotoState=null,this.rule=null}toString(){return this.tag==r.ACCEPT?"Acc":this.tag==r.SHIFT?"S"+this.gotoState:this.tag==r.REDUCE?"R "+this.rule.id:""+this.gotoState}equals(t){return this.tag==t.tag&&this.gotoState==t.gotoState&&this.rule==t.rule}static Shift(t){const e=new o;return e.tag=r.SHIFT,e.gotoState=t,e}static Reduce(t){const e=new o;return e.tag=r.REDUCE,e.rule=t,e}static Goto(t){const e=new o;return e.tag=r.GOTO,e.gotoState=t,e}static Accept(){const t=new o;return t.tag=r.ACCEPT,t}}class a{constructor(t){this.grammar=t,this.conflictActions={},this.actions={}}get hasConflicts(){return Object.keys(this.conflictActions).length>0}getActions(t,e,s=!1){let r;if(t in this.actions)r=this.actions[t];else{if(!s)return[];r=this.actions[t]={}}return e.id in r?r[e.id]:s?r[e.id]=[]:[]}addAction(t,e,s){const r=this.getActions(t,e,!0);return r.findIndex(t=>t.equals(s))<0&&r.push(s),r.length>1&&(this.conflictActions[t]=this.conflictActions[t]||{},this.conflictActions[t][e.label]=!0),this}get debugValue(){const t={};for(const e in this.actions){t[e]={};for(const s in this.actions[e]){const r=this.grammar.getSymById(s),n=this.actions[e][r.id]||[];n.length>0&&(t[e][r.label]=n.map(t=>t.toString()))}}return t}}class h{constructor(){this.stateStack=[],this.nodeStack=[]}push(t,e){this.stateStack.push(t),this.nodeStack.push(e)}top(t=0){return[this.stateStack[this.stateStack.length-1-t],this.nodeStack[this.nodeStack.length-1-t]]}pop(){const t=this.top();return this.stateStack.pop(),this.nodeStack.pop(),t}popN(t=1){const e=this.stateStack.length;this.stateStack.splice(e-t,t),this.nodeStack.splice(e-t,t)}get isEmpty(){return 0==this.stateStack.length||0==this.nodeStack.length}}class u extends i.UB{constructor(t,e={}){super(),this.parseTable=t}get grammar(){return this.parseTable.grammar}parseInput(t,e){e=e||{},this.tokenbuffer.tokenizerContext=e.tokenizerContext,0!=e.buildParseTree&&(e.buildParseTree=!0),0!=e.copySingleChild&&(e.copySingleChild=!0);let s=0;const o=new h;o.push(0,new i.R4(s++,this.grammar.augStartRule.nt,null));const a=this.tokenbuffer,u=this.grammar;let c=null;function d(t){if(e?.actionResolver)return e.actionResolver(t,o,a);if(t.length>1)throw new Error("Multiple actions found.");return t[0]}function m(){try{return a.peek(t)}catch(s){if(!e?.onTokenError||!e?.onTokenError(s,t))throw s;return m()}}for(;;){let h=m();if(null==h){if(o.isEmpty)break}else e.onNextToken&&(h=e.onNextToken(h));const g=null==h?u.Eof:this.getSym(h),f=null==h?null:h.value;let[p,S]=o.top();const y=this.parseTable.getActions(p,g);if(null==y||0==y.length)throw new l.m(`Unexpected Token: '${g.label}'`,"UnexpectedToken",{state:p,token:h,nextSym:g});const T=d(y);if(T.tag==r.ACCEPT)break;if(T.tag==r.SHIFT){a.next(t);const e=new i.R4(s++,g,f);o.push(T.gotoState,e)}else{n.vA(null!=T.rule,"Nonterm and ruleindex must be provided for a reduction action");const t=T.rule.rhs.length;let r=new i.R4(s++,T.rule.nt,null);if(e.buildParseTree)for(let s=t-1;s>=0;s--){const t=o.top(s)[1];if(e.beforeAddingChildNode)for(const s of e.beforeAddingChildNode(r,t))r.add(s);else null!=t&&r.add(t)}if(T.rule.action)if(T.rule.action.isFunction){const t=T.rule.action.value,s=e.ruleHandlers[t];if(!s)throw new Error("Action handler not found: "+t);r.value=s(T.rule,r,...r.children)}else r.value=r.children[T.rule.action.value-1].value;else e.onReduction?r=e.onReduction(r,T.rule):1==r.children.length&&e.copySingleChild&&(r.value=r.children[0].value);o.popN(t),[p,S]=o.top();const l=d(this.parseTable.getActions(p,T.rule.nt));n.vA(null!=l&&null!=l.gotoState,"Top item does not have an action."),o.push(l.gotoState,r),c=r}}return c}}},5057(t,e,s){s.d(e,{GG:()=>i,dd:()=>l,de:()=>u});var r=s(6148);const n=t=>t.key;class i{constructor(t=n){this._entries=[],this._entriesByKey={},this.keyFunc=t}clear(){this._entries=[],this._entriesByKey={}}remove(t){const e=[];this._entriesByKey={};let s=!1;for(let r=0;r<this._entries.length;r++){const n=this._entries[r];t(n)?s=!0:(n.id=e.length,e.push(n),this._entriesByKey[this.keyFunc(n)]=n)}return this._entries=e,s}get entries(){return this._entries}get(t){return r.vA(t>=0&&t<this._entries.length),this._entries[t]}getByKey(t){return this._entriesByKey[t]||null}ensure(t,e=!1){if(this.has(t)){if(e)throw new Error(`Entry ${this.keyFunc(t)} already exists`);return this._entriesByKey[this.keyFunc(t)]}return this._entriesByKey[this.keyFunc(t)]=t,t.id=this._entries.length,this._entries.push(t),t}has(t){return this.keyFunc(t)in this._entriesByKey}get size(){return this._entries.length}}class l{constructor(t,e=!0){this.entries=new Set,this.hasNull=!1,this.grammar=t,this.enforceSymbolType=e}get debugString(){return"<"+this.labels().sort().join(", ")+">"}labels(t=!1){const e=[];for(const s of this.entries){const n=this.grammar.getSymById(s);r.vA(null!=n),t&&n.isAuxiliary||e.push(n.label)}return this.hasNull&&e.push(""),e}addFrom(t,e=!0){return t.addTo(this,e)}addTo(t,e=!0){const s=t.entries.size;for(const e of this.entries)t.entries.add(e);return e&&(t.hasNull=this.hasNull||t.hasNull),t.entries.size-s}has(t){return this.entries.has(t.id)}add(t){return r.vA(null==this.enforceSymbolType||this.enforceSymbolType==t.isTerminal,`Terminal types being enforced: ${this.enforceSymbolType}`),this.entries.add(t.id),this}delete(t){return this.entries.delete(t.id)}get size(){return this.entries.size+(this.hasNull?1:0)}}class o{constructor(t){this.grammar=t,this.refresh()}get nonterms(){const t=[];return this.entries.forEach(e=>{const s=this.grammar.getSymById(e);r.vA(null!=s&&!s.isTerminal),t.push(s)}),t}refresh(){this.entries=new Set,this.visited={};let t=0;do{t=this.entries.size,this.grammar.allNonTerminals.forEach(t=>this.visit(t))}while(t!=this.entries.size)}visit(t){for(const e of this.grammar.rulesForNT(t))if(this.isStrNullable(e.rhs)){this.add(t);break}}isNullable(t){return!t.isTerminal&&this.entries.has(t.id)}isStrNullable(t,e=0,s=null){null==s&&(s=t.length-1);for(let r=e;r<=s;r++)if(!this.isNullable(t.syms[r]))return!1;return!0}add(t){r.vA(!t.isTerminal),this.entries.add(t.id)}}class a{constructor(t){this.entries={},this._count=0,this.grammar=t}refresh(){this.entries={},this._count=0}forEachTerm(t,e){const s=this.entriesFor(t);s.entries.forEach(t=>{const s=this.grammar.getSymById(t);r.vA(null!=s&&s.isTerminal),e(s)}),s.hasNull&&e(null)}get debugValue(){const t={};for(const e in this.entries)t[this.grammar.getSymById(e).label]=this.entries[e].debugString;return t}get count(){let t=0;for(const e in this.entries)t+=this.entries[e].size;return t}entriesFor(t){if(t.id in this.entries)return this.entries[t.id];{const e=new l(this.grammar);return this.entries[t.id]=e,e}}addNull(t){const e=this.entriesFor(t);return!e.hasNull&&(e.hasNull=!0,!0)}add(t,e,s=!0){t.isTerminal&&r.vA(!1,"Should not be here");const n=this.entriesFor(t);if(e.isTerminal){if(n.has(e))return!1;n.add(e),this._count++}else{const r=this.entriesFor(e),n=this.entriesFor(t),i=r.addTo(n,s);this._count+=i}return!0}}class h extends a{constructor(t,e){super(t),e||(e=new o(t)),this.nullables=e,this.refresh()}forEachTermIn(t,e=0,s){const r=t.syms,n={};let i=!0;for(let t=e;i&&t<r.length;t++){const e=r[t];if(e.isTerminal)s(e),i=!1;else{const t=e;this.forEachTerm(t,t=>{null==t||t.id in n||(n[t.id]=!0,s(t))}),this.nullables.isNullable(e)||(i=!1)}}i&&s(null)}refresh(){super.refresh();let t=0;do{t=this.count,this.grammar.forEachRule(null,t=>{this.processRule(t)})}while(t!=this.count)}processRule(t){const e=this.nullables;let s=!0;for(const r of t.rhs.syms)if(this.add(t.nt,r,!1),r.isTerminal||!e.isNullable(r)){s=!1;break}s&&this.addNull(t.nt)}}class u extends a{constructor(t,e){super(t),this.firstSets=e||new h(t),this.refresh()}get nullables(){return this.firstSets.nullables}refresh(){super.refresh();const t=this.grammar;r.vA(null!=t.startSymbol,"Select start symbol of the grammar"),this.add(t.startSymbol,t.Eof);let e=0;do{e=this.count,this.grammar.forEachRule(null,t=>this.processRule(t))}while(e!=this.count)}processRule(t){const e=t.rhs.syms,s=this.firstSets,r=this.firstSets.nullables;for(let r=0;r<e.length;r++){const n=e[r];n.isTerminal||s.forEachTermIn(t.rhs,r+1,t=>{null!=t&&this.add(n,t)})}for(let s=e.length-1;s>=0;s--){if(e[s].isTerminal)continue;let n=!0;for(let t=s+1;t<e.length;t++){const s=e[t];if(s.isTerminal||!r.isNullable(s)){n=!1;break}}n&&this.add(e[s],t.nt)}}}},5226(t,e,s){s.d(e,{allMinimalCycles:()=>n});var r=s(6148);function n(t,e,s){const n=[],i={};return t.forEach(t=>{if(!(e(t)in i)){const l=t,o={};let a=[[t,[]]];for(;a.length>0;){const t=[];for(let h=0;h<a.length;h++){const[u,c]=a[h];r.vA(null!=u);const d=s(u);let m=[...c];for(const[s,r]of d)s==l?(m.push([r,s]),m.forEach(([t,e],s)=>i[e]=!0),n.push([l,m]),m=m.slice(0,m.length-1)):e(s)in o||(o[e(s)]=!0,t.push([s,[...m,[r,s]]]))}a=t}}}),n}},5692(t,e,s){s.d(e,{y:()=>o});var r=s(2597),n=s(2719),i=s(5046),l=s(5253);function o(t,e=null){const s=e||{},[o,a,h]=function(t,e=null){const s=e||{},[i,l]=(0,r.load)(t,s);i.augmentStartSymbol();const[o,a]=(0,n._L)(i,s.type);return[o,l,a]}(t,s),u=new i.iX(o);return(s.tokenizer||a)&&u.setTokenizer(s.tokenizer||a),(s.debug||"").split("|").findIndex(t=>"all"==t||"parser"==t)>=0&&(0,l.b)(u,h),[u,a,h]}},6383(t,e,s){function r(t={}){!function(t=".sidebar .section-nav a"){const e=window.location.pathname;document.querySelectorAll(t).forEach(t=>{const s=t.getAttribute("href");(s&&e.endsWith(s.replace(/\/$/,"")+"/")||s&&e===s)&&t.classList.add("active")})}(t.sidebarSelector)}s.d(e,{FG:()=>r,SN:()=>n});var n=class{constructor(t,e=null,s=null){this.editor=null,this.compiledFn=null,this.compileError=null,this.statusEl=null,this.onCompile=null,this.editor=t,this.statusEl=e,this.onCompile=s;let r=null;this.editor.session.on("change",()=>{r&&clearTimeout(r),r=window.setTimeout(()=>this.compile(),300)})}compile(){if(!this.editor)return{success:!1,fn:null,error:"No editor",line:null};const t=this.editor.getValue().trim(),e=this.editor.session;if(e.clearAnnotations(),this.compiledFn=null,this.compileError=null,!t){this.updateStatus("","");const t={success:!0,fn:null,error:null,line:null};return this.onCompile?.(t),t}try{this.compiledFn=new Function("node",t),this.updateStatus("✓","success");const e={success:!0,fn:this.compiledFn,error:null,line:null};return this.onCompile?.(e),e}catch(t){this.compileError=t.message,this.updateStatus("✗ Compile Error","error");const s=t.message.match(/(?:at line |line |:|\()(\d+)(?::|,|\))/i),r=s?parseInt(s[1],10)-1:0;e.setAnnotations([{row:r,column:0,text:t.message,type:"error"}]);const n={success:!1,fn:null,error:t.message,line:r};return this.onCompile?.(n),n}}run(t){if(!t)return{success:!1,result:null,error:"No parse result available",line:null};if(this.compileError)return{success:!1,result:null,error:`Compile Error: ${this.compileError}`,line:null};if(!this.compiledFn)return{success:!0,result:null,error:null,line:null};try{const e=this.compiledFn(t);return this.editor&&this.editor.session.clearAnnotations(),this.updateStatus("✓","success"),{success:!0,result:e,error:null,line:null}}catch(t){const e=(t.stack||"").match(/<anonymous>:(\d+):/),s=e?parseInt(e[1],10)-1:null;return this.editor&&null!==s&&this.editor.session.setAnnotations([{row:s,column:0,text:t.message,type:"error"}]),this.updateStatus("✗ Runtime Error","error"),{success:!1,result:null,error:t.message,line:s}}}getCompileError(){return this.compileError}hasCompiledAction(){return null!==this.compiledFn}updateStatus(t,e){this.statusEl&&(this.statusEl.textContent=t,this.statusEl.classList.remove("success","error"),e&&this.statusEl.classList.add(e))}clear(){this.editor&&this.editor.session.clearAnnotations(),this.compiledFn=null,this.compileError=null,this.updateStatus("","")}}},6542(t,e,s){s.d(e,{M$:()=>r,jO:()=>i.jO,CC:()=>n,nZ:()=>a.nZ,UH:()=>h.U,_F:()=>b,zy:()=>o.z});var r={};s.r(r),s.d(r,{build:()=>m,exprFromFlexRE:()=>f,exprFromJSRE:()=>p,flatten:()=>g,flexRE:()=>y,jsRE:()=>S});var n={};s.r(n),s.d(n,{Lf:()=>N,yt:()=>w,cO:()=>R});var i=s(237),l=s(9727),o=(s(7872),s(8459),s(757)),a=s(1898),h=s(2041),u=s(2103),c=s(6066),d=s(570);function m(t,e){if("string"==typeof t){const s=new i.jO(p(t,e),e);return s.pattern=t,s}if("RegExp"==t.constructor.name){const s=new i.jO(p(t,e),e);return s.pattern=t.source,s}return new i.jO(t,e)}function g(t,e=0,s){if(s=s||[],"string"==typeof t)s.push(m(t,{tag:e}));else if(t.constructor==RegExp)s.push(m(t,{tag:e}));else if(t.constructor==i.jO)s.push(t);else if(t.constructor==i.Ge)s.push(new i.jO(t));else{const e=t;for(let t=0;t<e.length;t++)g(e[t],t,s)}return s}function f(t){const e=new d.F;try{const s=e.parse(new a.nZ(t));return null==s.dotAll&&(s.dotAll=!1),null==s.multiline&&(s.multiline=!1),s}catch(e){throw console.log("Error in FLEX RE: ",t),e}}function p(t,e){e=e||{};const s="string"!=typeof t,r="string"==typeof t?t:t.source;s&&(e.unicode=t.unicode);const n=new c.F(r,e).parse();return"string"!=typeof t&&(n.dotAll=t.dotAll,n.ignoreCase=t.ignoreCase,n.multiline=t.multiline),n}function S(t,...e){return p(String.raw(t,...e))}function y(t,...e){return f(String.raw(t,...e))}function T(t,e,s){const r=new h.o(t,e.matchIndex,e.start,e.end);for(let t=0;t<e.positions.length;t+=2)e.positions[t]>=0&&(r.positions[Math.floor(t/2)]=[e.positions[t],e.positions[t+1]]);for(const[t,s]of e.groups){const e=Math.abs(t);e in r.groups||(r.groups[e]=[]),r.groups[e].push(s)}return null!=s&&(r.value=s.substring(e.start,e.end)),r}class E{constructor(){this._prog=null,this._vm=null,this.onError=null,this.allRules=[],this.onMatchHandlers=[],this.matchHandlersByValue={},this.variables=new Map,this.compiler=new l.Q(t=>{let e=this.variables.get(t)||null;if(null==e&&(e=this.findRuleByValue(t)?.expr||null),null==e)throw new Error(`Invalid regex reference: ${t}`);return e})}getVar(t){return this.variables.get(t)||null}addVar(t,e){let s=this.variables.get(t)||null;return s=null==s?e:new i.gP(s,e),this.variables.set(t,e),this}findRuleByValue(t){return this.allRules.find(e=>e.tag==t)||null}add(t,e,s=null){return"function"==typeof e&&(s=e,e=null),this.addRule(m(t,e),s)}addRule(t,e=null){return t.matchIndex=this.allRules.length,this.allRules.push(t),this.onMatchHandlers.push(e),this._prog=null,this._vm=null,this}on(t,e){return this.matchHandlersByValue[t]=e,this}get prog(){if(null==this._prog){const t=this.sortRules();this._prog=this.compiler.compile(t)}return this._prog}get vm(){return null==this._vm&&(this._vm=new u.VM(this.prog)),this._vm}sortRules(){const t=this.allRules.map(t=>t);return t.sort((t,e)=>t.priority!=e.priority?e.priority-t.priority:t.matchIndex-e.matchIndex),t}}class b extends E{constructor(){super(...arguments),this.idCounter=0}getState(){return this.vm.getState()}setState(t){this.vm.setState(t)}reset(){this.idCounter=0,this._vm&&this._vm.setState(0)}next(t,e){if(!t.hasMore)return null;const s=t.index,r=t.currCh,n=this.vm.match(t);if(null==n){let n=null;if(n=t.index==s+1?new o.S(`Unexpected Character: ${r}`,s,1,"UnexpectedCharacter",r):new o.S(`Unexpected Symbol: ${t.substring(s,t.index)}`,s,t.index-s,"UnexpectedLexeme"),this.onError&&(n=this.onError(n,t,s)),null!=n)throw n;return this.next(t,e)}const i=this.allRules[n.matchIndex];let l=T(i.tag,n,t);l.id=this.idCounter++;let a=this.onMatchHandlers[n.matchIndex];if(a||(a=this.matchHandlersByValue[i.tag]),a){if(l=a(i,t,l,e),null==l)return this.next(t,e)}else if(i.skip)return this.next(t,e);return l}tokenize(t,e=null){const s=[];"string"==typeof t&&(t=new a.nZ(t));let r=this.next(t,e);for(;r;){s.push(r);try{r=this.next(t,e)}catch(t){s.push({tag:"ERROR",start:t.offset,end:t.offset+t.length,value:t.message});break}}return s}}s(1212),s(9777);const R=y`["]([^"\\\n]|\\.|\\\n)*["]`,N=y`[']([^'\\\n]|\\.|\\\n)*[']`,w=String.raw`/(.+?(?<!\\))/([imus]*)`},7276(t,e,s){s.d(e,{Jh:()=>h,O6:()=>i,WP:()=>a});var r=s(6148),n=s(5057);class i{constructor(t,e=0){this.id=0,this.rule=t,this.position=e}advance(){return r.vA(this.position<this.rule.rhs.length),new i(this.rule,this.position+1)}copy(){return new i(this.rule,this.position)}get key(){return r.vA(!isNaN(this.rule.id),"Rule's ID is not yet set."),this.rule.id+":"+this.position}compareTo(t){let e=this.rule.id-t.rule.id;return 0==e&&(e=this.position-t.position),e}equals(t){return 0==this.compareTo(t)}get debugString(){const t=this.rule,e=this.position,s=t.rhs.syms.slice(0,e).join(" "),r=t.rhs.syms.slice(e).join(" ");return`${t.id}  -  ${t.nt} -> ${s} • ${r}`}}class l{constructor(t,...e){this.id=0,this._key=null,this._lookaheads={},this._hasLookAheads=!1,this.itemGraph=t,this.values=e}copy(){const t=new l(this.itemGraph,...this.values);return t._lookaheads={...this._lookaheads},t._hasLookAheads=this._hasLookAheads,t}addLookAhead(t,e){t.id in this._lookaheads||(this._lookaheads[t.id]=[]);for(const s of this._lookaheads[t.id])if(s==e)return!1;return this._hasLookAheads=!0,this._key=null,this._lookaheads[t.id].push(e),this._lookaheads[t.id].sort((t,e)=>t.id-e.id),!0}clearLookAheads(){this._lookaheads={}}getLookAheads(t){return this._lookaheads[t.id]||[]}get key(){return null==this._key&&(this._key=this.revalKey()),this._key}revalKey(){return this.hasLookAheads?(this.values.sort(),this.values.map(t=>t+"["+(this._lookaheads[t]||[]).map(t=>t.id).join(",")+"]").join("/")):(this.values.sort(),this.values.join("/"))}has(t){return this.values.indexOf(t)>=0}equals(t){return this.key==t.key}add(t){return this.has(t)||(this.values.push(t),this._key=null),this}get size(){return this.values.length}get debugString(){return this.debugValue.join("\n")}get hasLookAheads(){return this._hasLookAheads}get debugValue(){if(this.hasLookAheads){const t=this.values.map(t=>this.itemGraph.items.get(t));return t.sort((t,e)=>t.compareTo(e)),t.map(t=>{const e=this.getLookAheads(t).map(t=>t.label).sort((t,e)=>t.localeCompare(e)).join(", ");return e.length>0?`${t.debugString} / ( ${e} )`:t.debugString})}{const t=this.values.map(t=>this.itemGraph.items.get(t));return t.sort((t,e)=>t.compareTo(e)),t.map(t=>t.debugString)}}}class o{constructor(t){this.grammar=t,this.gotoSets={},this.items=new n.GG,this.itemSets=new n.GG}startItem(){const t=this.grammar.startSymbol;return r.vA(null!=t,"Start symbol must be set"),r.vA(null!=(this.grammar.augStartRule||null),"Grammar is not augmented"),this.items.ensure(new i(this.grammar.augStartRule))}reset(){this.grammar.refresh(),this.gotoSets={},this.items.clear(),this.itemSets.clear(),this.startSet()}refresh(){return this.reset(),this.grammar.refresh(),this.evalGotoSets(),this}evalGotoSets(){const t=this.itemSets;for(let e=0;e<t.size;e++){const s=t.get(e);for(const t of this.grammar.allSymbols)if(t!=this.grammar.Null){const e=this.goto(s,t);e.size>0&&this.setGoto(s,t,e)}}}goto(t,e){const s=this.newItemSet();for(const r of t.values){const n=this.items.get(r),i=n.rule;n.position<i.rhs.length&&i.rhs.syms[n.position]==e&&this.advanceItemAndAdd(n,t,s)}return this.closure(s)}advanceItemAndAdd(t,e,s){const r=this.items.ensure(t.advance());s.add(r.id);for(const n of e.getLookAheads(t))s.addLookAhead(r,n)}newItemSet(...t){return new l(this,...t.map(t=>t.id))}get size(){return this.itemSets.size}ensureGotoSet(t){return t.id in this.gotoSets||(this.gotoSets[t.id]={}),this.gotoSets[t.id]}setGoto(t,e,s){this.ensureGotoSet(t)[e.id]=s}getGoto(t,e){return(this.gotoSets[t.id]||{})[e.id]||null}forEachGoto(t,e){const s=this.gotoSets[t.id]||{};for(const t in s)if(0==e(this.grammar.getSymById(t),s[t]))break}gotoSetFor(t){return this.gotoSets[t.id]||{}}get debugValue(){const t={};return this.itemSets.entries.forEach(e=>{t[e.id]={items:[],goto:{}},t[e.id].items=e.debugValue;const s=this.gotoSets[e.id];for(const r in s){const n=this.grammar.getSymById(r);t[e.id].goto=t[e.id].goto||{},t[e.id].goto[n.label]=s[r].id}}),t}}class a extends o{startSet(){const t=this.startItem(),e=this.newItemSet(t);return this.closure(e)}closure(t){const e=new l(this,...t.values);for(let t=0;t<e.values.length;t++){const s=e.values[t],r=this.items.get(s),n=r.rule;if(r.position<n.rhs.length){const t=n.rhs.syms[r.position];if(!t.isTerminal)for(const s of this.grammar.rulesForNT(t)){const t=this.items.ensure(new i(s,0));e.add(t.id)}}}return 0==e.size?e:this.itemSets.ensure(e)}}class h extends o{startSet(){const t=this.startItem(),e=this.newItemSet(t);return e.addLookAhead(t,this.grammar.Eof),this.closure(e)}closure(t){const e=t.copy();for(let t=0;t<e.values.length;t++){const s=e.values[t],r=this.items.get(s);if(r.position>=r.rule.rhs.length)continue;const n=r.rule.rhs,l=n.syms[r.position];if(!l.isTerminal)for(const t of e.getLookAheads(r)){const s=n.copy().append(t);this.grammar.firstSets.forEachTermIn(s,r.position+1,t=>{if(null!=t){const s=this.grammar.rulesForNT(l);for(const r of s){const s=this.items.ensure(new i(r,0));e.add(s.id),e.addLookAhead(s,t)}}})}}return 0==e.size?e:this.itemSets.ensure(e)}}},9058(t,e,s){s.d(e,{newParser:()=>r.y}),s(1787),s(5057),s(5226),s(2597),s(1382),s(2056),s(9757),s(875),s(5046),s(7276),s(2719);var r=s(5692);s(9383)},9383(t,e,s){s.d(e,{m:()=>r});class r extends Error{constructor(t,e,s=null){super(t),this.type=e,this.value=s,Object.setPrototypeOf(this,new.target.prototype)}get name(){return this.constructor.name}}},9757(t,e,s){s(5046)}}]);
//# sourceMappingURL=72.1aea8dbe74767dc33c43.js.map